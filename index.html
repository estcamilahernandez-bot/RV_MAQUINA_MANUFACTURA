<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Modelo centrado sin piso</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script>
      // 游댳 Centra el modelo y ajusta la c치mara al cargarlo
      AFRAME.registerComponent('center-model', {
        init: function () {
          this.el.addEventListener('model-loaded', () => {
            const object3D = this.el.getObject3D('mesh');
            if (!object3D) return;

            const box = new THREE.Box3().setFromObject(object3D);
            const center = new THREE.Vector3();
            box.getCenter(center);
            const size = new THREE.Vector3();
            box.getSize(size);

            // Centrar modelo en el origen y alinear con el piso
            object3D.position.sub(center);
            object3D.position.y -= box.min.y;

            // Ajustar c치mara autom치ticamente
            const camera = document.querySelector('[camera]');
            const distance = Math.max(size.x, size.y, size.z) * 1.5;
            camera.setAttribute('position', `0 ${size.y / 2} ${distance}`);
          });
        },
      });
    </script>
  </head>

  <body>
    <a-scene background="color: #ECECEC">
      <!-- Luces -->
      <a-entity light="type: ambient; intensity: 0.8"></a-entity>
      <a-entity light="type: directional; intensity: 1" position="2 4 3"></a-entity>

      <!-- C치mara con controles -->
      <a-entity camera look-controls wasd-controls></a-entity>

      <!-- Modelo centrado -->
      <a-entity
        gltf-model="Double_station_lathe_loading_and_unloading.glb"
        scale="1 1 1"
        center-model
        animation-mixer
      ></a-entity>
    </a-scene>
  </body>
</html>






